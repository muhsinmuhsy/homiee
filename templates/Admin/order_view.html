{% extends 'Admin/admin_base.html' %}
{% load static %}
{% block content %}

      <main>
        <div class="container">
          <!-- Title and Top Buttons Start -->
          <div class="page-title-container">
            <div class="row">
              <!-- Title Start -->
              <div class="col-auto mb-3 mb-md-0 me-auto">
                <div class="w-auto sw-md-30">
                  <a href="#" class="muted-link pb-1 d-inline-block breadcrumb-back">
                    <i data-acorn-icon="chevron-left" data-acorn-size="13"></i>
                    <span class="text-small align-middle">Orders</span>
                  </a>
                  <h1 class="mb-0 pb-0 display-4" id="title">Order Detail</h1>
                </div>
              </div>
              <!-- Title End -->

              <!-- Top Buttons Start -->
              <div class="col-12 col-md-5 d-flex align-items-end justify-content-end">
                <!-- Status Button Start -->
                <div class="dropdown-as-select w-100 w-md-auto">
                  <button
                    class="btn btn btn-outline-primary w-100 w-md-auto dropdown-toggle"
                    type="button"
                    data-bs-toggle="dropdown"
                    aria-haspopup="true"
                    aria-expanded="false"
                  ></button>
                  <div class="dropdown-menu dropdown-menu-end">
                    
                    <a class="dropdown-item active" href="#">Date: {{ order.date }}</a>
                  </div>
                </div>
                <!-- Status Button End -->

                
                
              </div>
              <!-- Top Buttons End -->
            </div>
          </div>
          <!-- Title and Top Buttons End -->

          <div class="row gx-4 gy-5">
            <div class="col-12 col-xl-8 col-xxl-9 mb-n5">
              <!-- Status Start -->
              <h2 class="small-title">Status</h2>
              <div class="mb-5">
                <div class="row g-2">
                  <div class="col-12 col-sm-6 col-lg-6">
                    <div class="card sh-13 sh-lg-15 sh-xl-14">
                      <div class="h-100 row g-0 card-body align-items-center py-3">
                        <div class="col-auto pe-3">
                          <div class="border border-primary sw-6 sh-6 rounded-xl d-flex justify-content-center align-items-center">
                            <i data-acorn-icon="tag" class="text-primary"></i>
                          </div>
                        </div>
                        <div class="col">
                          <div class="d-flex align-items-center lh-1-25">CUSTOMER NAME</div>
                          <div class="text-primary">{{ order.user.first_name }} {{ order.user.last_name }}</div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-12 col-sm-6 col-lg-6">
                    <div class="card sh-13 sh-lg-15 sh-xl-14">
                      <div class="h-100 row g-0 card-body align-items-center py-3">
                        <div class="col-auto pe-3">
                          <div class="border border-primary sw-6 sh-6 rounded-xl d-flex justify-content-center align-items-center">
                            <i data-acorn-icon="clipboard" class="text-primary"></i>
                          </div>
                        </div>
                        <div class="col">
                          <div class="d-flex align-items-center lh-1-25">Order Status</div>
                          <div class="text-primary">{{ order.status }}</div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- <div class="col-12 col-sm-6 col-lg-6">
                    <div class="card sh-13 sh-lg-15 sh-xl-14">
                      <div class="h-100 row g-0 card-body align-items-center py-3">
                        <div class="col-auto pe-3">
                          <div class="border border-primary sw-6 sh-6 rounded-xl d-flex justify-content-center align-items-center">
                            <i data-acorn-icon="calendar" class="text-primary"></i>
                          </div>
                        </div>
                        <div class="col">
                          <div class="d-flex align-items-center lh-1-25">Delivery Date</div>
                          <div class="text-primary">{{ order.date }}</div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-12 col-sm-6 col-lg-6">
                    <div class="card sh-13 sh-lg-15 sh-xl-14">
                      <div class="h-100 row g-0 card-body align-items-center py-3">
                        <div class="col-auto pe-3">
                          <div class="border border-primary sw-6 sh-6 rounded-xl d-flex justify-content-center align-items-center">
                            <i data-acorn-icon="shipping" class="text-primary"></i>
                          </div>
                        </div>
                        <div class="col">
                          <div class="d-flex align-items-center lh-1-25">Amount</div>
                          <div class="text-primary"></div>
                        </div>
                      </div>
                    </div>
                  </div> -->
                </div>
              </div>
              <!-- Status End -->

              <!-- Cart Start -->
              <h2 class="small-title">Cart</h2>
              <div class="card mb-5">
                <div class="card-body">
                  <div class="row">
                    <div class="col-12">
                      <div class="mb-5">
                        {% for cart in order.cart.all %}
                          <div class="row g-0 sh-9 mb-3">
                            <div class="col-auto">
                              <img src="{{ cart.product.image.url }}" class="card-img rounded-md h-100 sw-13" alt="thumb" />
                            </div>
                            <div class="col">
                              <div class="ps-4 pt-0 pb-0 pe-0 h-100">
                                <div class="row g-0 h-100 align-items-start align-content-center">
                                  <div class="col-12 d-flex flex-column mb-2">
                                    <div>{{ cart.product.name }}</div>
                                    <!-- <div class="text-muted text-small">Microsoft</div> -->
                                  </div>
                                  <div class="col-12 d-flex flex-column mb-md-0 pt-1">
                                    <div class="row g-0">
                                      <div class="col-6 d-flex flex-row pe-2 align-items-end text-alternate">
                                        <span>{{ cart.quantity }}</span>
                                        <span class="text-muted ms-1 me-1">x</span>
                                        <span>
                                          <span class="text-small">AUD</span>
                                          {{ cart.price_dummy }}
                                        </span>
                                      </div>
                                      <div class="col-6 d-flex flex-row align-items-end justify-content-end text-alternate">
                                        <span>
                                          <span class="text-small">AUD</span>
                                          {{ cart.total }}
                                        </span>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        {% endfor %}
                          
                      </div>
                      <div>
                        <div class="row g-0 mb-2">
                          <div class="col-auto ms-auto ps-3 text-muted">Total</div>
                          <div class="col-auto sw-13 text-end">
                            <span>
                              <span class="text-small text-muted">AUD</span>
                              {{ subtotal }}
                            </span>
                          </div>
                        </div>
                        {% if subtotal >= 50 %}
                          <div class="row g-0 mb-2">
                            <div class="col-auto ms-auto ps-3 text-muted">Shipping</div>
                            <div class="col-auto sw-13 text-end">
                              <span>
                                <span class="text-small text-muted">AUD</span>
                                0
                              </span>
                            </div>
                          </div>
                        {% else %}
                          <div class="row g-0 mb-2">
                            <div class="col-auto ms-auto ps-3 text-muted">Shipping</div>
                            <div class="col-auto sw-13 text-end">
                              <span>
                                <span class="text-small text-muted">AUD</span>
                                8
                              </span>
                            </div>
                          </div>
                        {% endif %}
                          
                        <!-- <div class="row g-0 mb-2">
                          <div class="col-auto ms-auto ps-3 text-muted">Sale</div>
                          <div class="col-auto sw-13 text-end">
                            <span>
                              <span class="text-small text-muted">AUD</span>
                              -24.50
                            </span>
                          </div>
                        </div> -->
                        <div class="row g-0 mb-2">
                          <div class="col-auto ms-auto ps-3 text-muted">Grand Total</div>
                          <div class="col-auto sw-13 text-end">
                            <span>
                              <span class="text-small text-muted">AUD</span>
                              {{ total_of_total }}
                            </span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- Cart End -->

              <!-- Activity Start -->
              
              <div class="card mb-5">
                
               
              </div>
              <!-- Activity End -->
            </div>

            <!-- Address Start -->
            <div class="col-12 col-xl-4 col-xxl-3">
              <h2 class="small-title">Address</h2>
              <div class="card mb-5">
                <div class="card-body mb-n5">
                  <div class="mb-5">
                    <p class="text-small text-muted mb-2">CUSTOMER</p>
                    <div class="row g-0 mb-2">
                      <div class="col-auto">
                        <div class="sw-3 me-1">
                          <i data-acorn-icon="user" class="text-primary" data-acorn-size="17"></i>
                        </div>
                      </div>
                      <div class="col text-alternate align-middle">{{ order.user.username }}</div>
                    </div>
                    <div class="row g-0 mb-2">
                      <div class="col-auto">
                        <div class="sw-3 me-1">
                          <i data-acorn-icon="email" class="text-primary" data-acorn-size="17"></i>
                        </div>
                      </div>
                      <div class="col text-alternate">{{ order.user.email }}</div>
                    </div>
                  </div>

                  <div class="mb-5">
                    <p class="text-small text-muted mb-2">SHIPPING ADDRESS</p>
                    <div class="row g-0 mb-2">
                      <div class="col-auto">
                        <div class="sw-3 me-1">
                          <i data-acorn-icon="user" class="text-primary" data-acorn-size="17"></i>
                        </div>
                      </div>
                      <div class="col text-alternate align-middle">{{ order.first_name }} {{ order.last_name }}</div>
                    </div>
                    <div class="row g-0 mb-2">
                      <div class="col-auto">
                        <div class="sw-3 me-1">
                          <i data-acorn-icon="pin" class="text-primary" data-acorn-size="17"></i>
                        </div>
                      </div>
                      <div class="col text-alternate">{{ order.address }}</div>
                    </div>

                    <div class="row g-0 mb-2">
                      <div class="col-auto">
                        <div class="sw-3 me-1">
                          <i data-acorn-icon="pin" class="text-primary" data-acorn-size="17"></i>
                        </div>
                      </div>
                      <div class="col text-alternate">{{ order.city }}</div>
                    </div>

                    <div class="row g-0 mb-2">
                      <div class="col-auto">
                        <div class="sw-3 me-1">
                          <i data-acorn-icon="pin" class="text-primary" data-acorn-size="17"></i>
                        </div>
                      </div>
                      <div class="col text-alternate">{{ order.postel_code }}</div>
                    </div>


                    <div class="row g-0 mb-2">
                      <div class="col-auto">
                        <div class="sw-3 me-1">
                          <i data-acorn-icon="phone" class="text-primary" data-acorn-size="17"></i>
                        </div>
                      </div>
                      <div class="col text-alternate">{{ order.phone }}</div>
                    </div>
                  </div>

                  
                  <div class="mb-5">
                    <div>
                      <p class="text-small text-muted mb-2">PAYMENT (CREDIT CARD)</p>
                      <div class="row g-0 mb-2">
                        <div class="col-auto">
                          <div class="sw-3 me-1">
                            <i data-acorn-icon="credit-card" class="text-primary" data-acorn-size="17"></i>
                          </div>
                        </div>
                        <div class="col text-alternate">3452 42** **** 4251</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- Address End -->
          </div>
        </div>
    </main>

    
{% endblock %}